{"version":3,"sources":["pages/common/AppScroll/AppScroll.js","pages/pro/children/newPro/Newpro.js","components/Task/Task.js"],"names":["AppScroll","className","ref","this","props","children","scroll","BScroll","refs","tap","click","on","refresh","Component","Newpro","state","proInfo","id","proList","length","task","tips","disabled","type","value","onChange","changeInptAction","bind","src","proImg","alt","onClick","exitAction","saveAction","ev","persist","target","getAttribute","setState","proFullName","proSimpName","proAddress","baseImg","red","FileReader","readAsDataURL","files","onload","result","proKehu","proKehuName","proKehuTel","proFuxze","proTeam","history","goBack","console","log","list","Object","keys","taskAction","changeProList","setTimeout","val","changeHasbackAction","changeTitle","connect","hasBack","header","title","pro","dispatch","Task"],"mappings":"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","file":"static/js/5.84ce5454.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport BScroll from 'better-scroll'\r\nimport './style.scss'\r\n\r\nexport default class AppScroll extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"appscroll\" ref=\"scroll\">\r\n        <div className=\"scollmain\">\r\n          {\r\n            this.props.children\r\n          }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n  componentDidMount(){\r\n   let scroll = new BScroll(this.refs.scroll, {\r\n      tap: true,\r\n      click: true\r\n    });\r\n    // 如果需要滚动，先刷新滚动视图，就可以在可滚动范围内滚动\r\n    scroll.on('beforeScrollStart', ()=>{\r\n      scroll.refresh();\r\n    });\r\n  }\r\n}\r\n","import React, { Component } from 'react'\r\nimport {connect} from 'react-redux'\r\nimport './style.scss'\r\nimport AppScroll from '../../../common/AppScroll/AppScroll'\r\nimport { Object } from 'core-js';\r\nimport Task from '../../../../components/Task/Task'\r\n   \r\n\r\nclass Newpro extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    // console.log(props)\r\n    this.state = {\r\n      proInfo:{\r\n        id:props.proList.length+1\r\n      },\r\n      task:false,\r\n      tips:''\r\n    }\r\n  }\r\n  render() {\r\n    // console.log(this.props.proList)\r\n    return (\r\n      <div className=\"page subpage\">\r\n      <AppScroll>\r\n        <div className=\"proname\">\r\n          <p className=\"p_name\">项目信息</p>\r\n          <div className=\"nameMain\">\r\n            <p>项目编号 <input disabled type=\"text\" value={this.props.proList.length+1} onChange={this.changeInptAction.bind(this)}/></p>\r\n            <p>项目全称 <input id=\"2\" type=\"text\" onChange={this.changeInptAction.bind(this)}/></p>\r\n            <p>项目简称 <input id=\"3\" type=\"text\" onChange={this.changeInptAction.bind(this)}/></p>\r\n            <p>项目地址 <input id=\"4\" type=\"text\" onChange={this.changeInptAction.bind(this)}/></p>\r\n            <div className=\"p_img\">\r\n              <span>项目图片</span>\r\n              <img src={this.state.proInfo.proImg} alt=\"\"/>\r\n              <input type=\"file\" id=\"5\" onChange={this.changeInptAction.bind(this)}/>\r\n              <i>+</i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"kehu\">\r\n          <p>客户信息</p>\r\n          <div className=\"kehuInfo\">\r\n            <p>客户名称 <input type=\"text\" id=\"6\" onChange={this.changeInptAction.bind(this)}/></p>\r\n            <p>联系人 <input type=\"text\" id=\"7\" onChange={this.changeInptAction.bind(this)}/></p>\r\n            <p>联系电话 <input type=\"text\" id=\"8\" onChange={this.changeInptAction.bind(this)}/></p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"fuze\">\r\n          <p>人员架构</p>\r\n          <div className=\"fuzeInfo\">\r\n            <p>负责人 <input type=\"text\" id=\"9\" onChange={this.changeInptAction.bind(this)}/></p>\r\n            <p>成员 <input type=\"text\" id=\"10\" onChange={this.changeInptAction.bind(this)}/></p>\r\n          </div>\r\n        </div>\r\n\r\n        \r\n\r\n      </AppScroll>\r\n\r\n      <div className=\"n_save\">\r\n        <p className=\"n_exit\" onClick={this.exitAction.bind(this)}>取消</p>\r\n        <p className=\"n_push\" onClick={this.saveAction.bind(this)}>提交</p>\r\n      </div>\r\n      \r\n      {this.state.task && <Task tips={this.state.tips}/>}\r\n      </div>\r\n    )\r\n  }\r\n  changeInptAction(ev){\r\n    ev.persist();\r\n    let id = ev.target.getAttribute('id');\r\n    // console.log(ev.target.getAttribute('id'))\r\n    switch (id) {\r\n      case '2':\r\n        return  this.setState(()=>({\r\n          proInfo:{\r\n            ...this.state.proInfo,\r\n            proFullName:ev.target.value\r\n          }\r\n        }))\r\n      case '3':\r\n        return  this.setState(()=>({\r\n          proInfo:{\r\n            ...this.state.proInfo,\r\n            proSimpName:ev.target.value\r\n          }\r\n        }))\r\n      case '4':\r\n        return  this.setState(()=>({\r\n          proInfo:{\r\n            ...this.state.proInfo,\r\n            proAddress:ev.target.value\r\n          }\r\n        }))\r\n      case '5':          \r\n          let baseImg;\r\n          let red = new FileReader();\r\n          red.readAsDataURL(ev.target.files[0])\r\n          red.onload= (ev)=>{\r\n          baseImg = ev.target.result;\r\n          this.setState(()=>({\r\n                proInfo:{\r\n                  ...this.state.proInfo,\r\n                  proImg:baseImg\r\n                }\r\n              }))\r\n            }\r\n        return\r\n      case '6':\r\n        return  this.setState(()=>({\r\n          proInfo:{\r\n            ...this.state.proInfo,\r\n            proKehu:ev.target.value\r\n          }\r\n        }))\r\n      case '7':\r\n        return  this.setState(()=>({\r\n          proInfo:{\r\n            ...this.state.proInfo,\r\n            proKehuName:ev.target.value\r\n          }\r\n        }))\r\n      case '8':\r\n        return  this.setState(()=>({\r\n          proInfo:{\r\n            ...this.state.proInfo,\r\n            proKehuTel:ev.target.value\r\n          }\r\n        }))\r\n      case '9':\r\n        return  this.setState(()=>({\r\n          proInfo:{\r\n            ...this.state.proInfo,\r\n            proFuxze:ev.target.value\r\n          }\r\n        }))\r\n      case '10':\r\n        return  this.setState(()=>({\r\n          proInfo:{\r\n            ...this.state.proInfo,\r\n            proTeam:ev.target.value\r\n          }\r\n        }))\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n  exitAction(){\r\n    this.props.history.goBack()\r\n  }\r\n  saveAction(){\r\n    console.log(this.props.proInfo)\r\n    let list = this.state.proInfo\r\n    let arr = Object.keys(list)\r\n    if(arr.length < 9){\r\n      this.taskAction('请输入完整')\r\n    }else{\r\n      this.taskAction('添加成功')\r\n      this.props.changeProList(this.state.proInfo)\r\n      this.setState(()=>({\r\n        proInfo:{}\r\n      }))\r\n      setTimeout(() => {\r\n        this.props.history.goBack();\r\n      }, 1000);\r\n      //\r\n    }\r\n  }\r\n  taskAction(val){\r\n    this.setState(()=>({\r\n      task:true,\r\n      tips:val\r\n    }))\r\n    setTimeout(() => {\r\n      this.setState(()=>({\r\n        task:false,\r\n      }))\r\n    }, 1000);\r\n  }\r\n  componentDidMount(){\r\n    this.props.changeHasbackAction();\r\n    this.props.changeTitle();\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state)=>({\r\n  hasBack:state.header.hasBack,\r\n  title:state.header.title,\r\n  proList:state.pro.proList\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch)=>({\r\n  changeProList(list){\r\n    dispatch({\r\n      type:'changeProList',\r\n      list\r\n    })\r\n  },\r\n  changeHasbackAction(){\r\n    dispatch({\r\n      type:'changeHasBack',\r\n      hasBack:true,\r\n    })\r\n  },\r\n  changeTitle(){\r\n    dispatch({\r\n      type:'changeTitle',\r\n      title:'新建项目'\r\n    })\r\n  }\r\n})\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Newpro)\r\n","import React from 'react'\r\nimport './style.scss'\r\n\r\nconst Task =(props)=>(\r\n  <span className=\"task\">{props.tips}</span>\r\n)\r\n\r\nexport default Task"],"sourceRoot":""}