{"version":3,"sources":["pages/mine/children/infomation/Infomation.js"],"names":["Infomation","props","state","infoList","this","className","src","headerImg","alt","ref","type","onChange","inptAction","bind","name","job","value","email","changeEmail","tel","changeTel","phone","changePhone","onClick","saveInfolist","changeInfo","history","goBack","ev","persist","setState","target","baseImg","red","FileReader","readAsDataURL","files","onload","result","changeHasbackAction","changeTitle","Component","connect","hasBack","header","title","mine","dispatch","val"],"mappings":"6MAIMA,G,mBACJ,WAAYC,GAAO,IAAD,8BAChB,4CAAMA,KACDC,MAAM,CACTC,SAASF,EAAME,UAHD,E,sEAMR,IACHA,EAAYC,KAAKF,MAAjBC,SACL,OACE,yBAAKE,UAAU,gBACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,OACf,yBAAKC,IAAKH,EAASI,UAAWC,IAAI,KAClC,mCACA,2BAAOC,IAAI,MAAMC,KAAK,OAAOC,SAAUP,KAAKQ,WAAWC,KAAKT,SAE5D,2BAAID,EAASW,MACb,2BAAIX,EAASY,MAGf,yBAAKV,UAAU,aACb,2BAAG,0DAAiB,2BAAOK,KAAK,QAAQM,MAAOb,EAASc,MAAON,SAAUP,KAAKc,YAAYL,KAAKT,SAC/F,2BAAG,8CAAe,2BAAOM,KAAK,MAAMM,MAAOb,EAASgB,IAAKR,SAAUP,KAAKgB,UAAUP,KAAKT,SACvF,2BAAG,8CAAe,2BAAOM,KAAK,SAASM,MAAOb,EAASkB,MAAOV,SAAUP,KAAKkB,YAAYT,KAAKT,UAEhG,yBAAKC,UAAU,OACb,uBAAGkB,QAASnB,KAAKoB,aAAaX,KAAKT,OAAnC,oB,qCAMNA,KAAKH,MAAMwB,WAAWrB,KAAKF,MAAMC,UACjCC,KAAKH,MAAMyB,QAAQC,W,kCAETC,GAAI,IAAD,OACbA,EAAGC,UACHzB,KAAK0B,UAAS,iBAAK,CACjB3B,SAAS,eACJ,EAAKD,MAAMC,SADR,CAENc,MAAMW,EAAGG,OAAOf,c,gCAIZY,GAAI,IAAD,OACXA,EAAGC,UACHzB,KAAK0B,UAAS,iBAAK,CACjB3B,SAAS,eACJ,EAAKD,MAAMC,SADR,CAENgB,IAAIS,EAAGG,OAAOf,c,kCAIRY,GAAI,IAAD,OACbA,EAAGC,UACHzB,KAAK0B,UAAS,iBAAK,CACjB3B,SAAS,eACJ,EAAKD,MAAMC,SADR,CAENkB,MAAMO,EAAGG,OAAOf,c,iCAIXY,GAAI,IACTI,EADQ,OAERC,EAAM,IAAIC,WACdD,EAAIE,cAAcP,EAAGG,OAAOK,MAAM,IAClCH,EAAII,OAAQ,SAACT,GACXI,EAAUJ,EAAGG,OAAOO,OACpB,EAAKR,UAAS,iBAAK,CACjB3B,SAAS,eACJ,EAAKD,MAAMC,SADR,CAENI,UAAUyB,W,0CAMhB5B,KAAKH,MAAMsC,sBACXnC,KAAKH,MAAMuC,kB,GA/EUC,cA+GVC,uBA3BS,SAACxC,GAAD,MAAU,CAChCyC,QAAQzC,EAAM0C,OAAOD,QACrBE,MAAM3C,EAAM0C,OAAOC,MACnB1C,SAASD,EAAM4C,KAAK3C,aAGK,SAAC4C,GAAD,MAAa,CACtCtB,WADsC,SAC3BuB,GACTD,EAAS,CACPrC,KAAK,aACLP,SAAS6C,KAGbT,oBAPsC,WAQpCQ,EAAS,CACPrC,KAAK,gBACLiC,SAAQ,KAGZH,YAbsC,WAcpCO,EAAS,CACPrC,KAAK,cACLmC,MAAM,iCAKGH,CAA4C1C","file":"static/js/15.aba7cfec.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport {connect} from 'react-redux'\r\nimport './style.scss'\r\n\r\nclass Infomation extends Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state={\r\n      infoList:props.infoList\r\n    }\r\n  }\r\n  render() {\r\n    let {infoList} = this.state\r\n    return (\r\n      <div className=\"page subpage\">\r\n        <div className=\"I_header\">\r\n          <div className=\"img\">\r\n          <img src={infoList.headerImg} alt=\"\"/>\r\n          <span>+</span>\r\n          <input ref=\"inp\" type=\"file\" onChange={this.inptAction.bind(this)}/>\r\n          </div>\r\n          <p>{infoList.name}</p>\r\n          <p>{infoList.job}</p>\r\n        </div>\r\n\r\n        <div className=\"otherInfo\">\r\n          <p><span>电子邮箱</span><input type=\"email\" value={infoList.email} onChange={this.changeEmail.bind(this)}/></p>\r\n          <p><span>座机</span><input type=\"tel\" value={infoList.tel} onChange={this.changeTel.bind(this)} /></p>\r\n          <p><span>手机</span><input type=\"number\" value={infoList.phone} onChange={this.changePhone.bind(this)} /></p>\r\n        </div>\r\n        <div className=\"btn\">\r\n          <p onClick={this.saveInfolist.bind(this)}>保存</p>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n  saveInfolist(){\r\n    this.props.changeInfo(this.state.infoList)\r\n    this.props.history.goBack();\r\n  }\r\n  changeEmail(ev){\r\n    ev.persist();\r\n    this.setState(()=>({\r\n      infoList:{\r\n        ...this.state.infoList,\r\n        email:ev.target.value\r\n      }\r\n    }))\r\n  }\r\n  changeTel(ev){\r\n    ev.persist();\r\n    this.setState(()=>({\r\n      infoList:{\r\n        ...this.state.infoList,\r\n        tel:ev.target.value\r\n      }\r\n    }))\r\n  }\r\n  changePhone(ev){\r\n    ev.persist();\r\n    this.setState(()=>({\r\n      infoList:{\r\n        ...this.state.infoList,\r\n        phone:ev.target.value\r\n      }\r\n    }))\r\n  }\r\n  inptAction(ev){\r\n    let baseImg;\r\n    let red = new FileReader();\r\n    red.readAsDataURL(ev.target.files[0])\r\n    red.onload= (ev)=>{\r\n      baseImg = ev.target.result;\r\n      this.setState(()=>({\r\n        infoList:{\r\n          ...this.state.infoList,\r\n          headerImg:baseImg\r\n        }\r\n      }))\r\n    }\r\n  }\r\n  componentDidMount(){\r\n    this.props.changeHasbackAction();\r\n    this.props.changeTitle();\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state)=>({\r\n  hasBack:state.header.hasBack,\r\n  title:state.header.title,\r\n  infoList:state.mine.infoList\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch)=>({\r\n  changeInfo(val){\r\n    dispatch({\r\n      type:'changeInfo',\r\n      infoList:val\r\n    })\r\n  },\r\n  changeHasbackAction(){\r\n    dispatch({\r\n      type:'changeHasBack',\r\n      hasBack:true,\r\n    })\r\n  },\r\n  changeTitle(){\r\n    dispatch({\r\n      type:'changeTitle',\r\n      title:'个人资料'\r\n    })\r\n  }\r\n})\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Infomation)\r\n"],"sourceRoot":""}