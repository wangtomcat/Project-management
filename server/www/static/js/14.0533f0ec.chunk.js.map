{"version":3,"sources":["pages/home/home/Home.js"],"names":["h_tabs","id","title","icon","path","color","Home","newMessage","this","props","messageList","slice","className","ref","src","alt","to","pathname","state","map","item","key","status","message","date","style","fetchList","changeHasbackAction","changeTitle","Swiper","refs","container","direction","loop","speed","autoplay","delay","pagination","el","length","getMessageList","Component","connect","hasBack","header","home","dispatch","action","requestMessageList","type"],"mappings":"wOAOMA,EAAS,CACb,CAACC,GAAG,EAAEC,MAAM,2BAAOC,KAAK,sBAAsBC,KAAK,QAASC,MAAM,WAClE,CAACJ,GAAG,EAAEC,MAAM,2BAAOC,KAAK,wBAAwBC,KAAK,QAASC,MAAM,WACpE,CAACJ,GAAG,EAAEC,MAAM,2BAAOC,KAAK,4BAA4BC,KAAK,QAASC,MAAM,WACxE,CAACJ,GAAG,EAAEC,MAAM,2BAAOC,KAAK,sBAAsBC,KAAK,QAASC,MAAM,WAClE,CAACJ,GAAG,EAAEC,MAAM,qBAAMC,KAAK,uBAAuBC,KAAK,QAASC,MAAM,WAClE,CAACJ,GAAG,EAAEC,MAAM,iCAAQC,KAAK,oCAAoCC,KAAK,QAASC,MAAM,WACjF,CAACJ,GAAG,EAAEC,MAAM,2BAAOC,KAAK,0BAA0BC,KAAK,QAASC,MAAM,WACtE,CAACJ,GAAG,EAAEC,MAAM,2BAAOC,KAAK,uBAAuBC,KAAK,QAASC,MAAM,YAG/DC,E,iLAGF,IAAIC,EAAaC,KAAKC,MAAMC,YAAYC,MAAM,EAAE,GAEhD,OACE,yBAAKC,UAAU,QACf,yBAAKA,UAAU,mBAAmBC,IAAI,aACpC,yBAAKD,UAAU,kBACX,yBAAKA,UAAU,gBACb,yBAAKE,IAAI,cAAcC,IAAI,MAE7B,yBAAKH,UAAU,gBACb,yBAAKE,IAAI,aAAaC,IAAI,MAE5B,yBAAKH,UAAU,gBACb,yBAAKE,IAAI,aAAaC,IAAI,OAGhC,yBAAKH,UAAU,uBAEjB,yBAAKA,UAAU,UACf,uBAAGA,UAAU,aAAb,2BAA6B,kBAAC,IAAD,CAAMI,GAAI,CAACC,SAAS,WAAWC,MAAM,GAAIN,UAAU,UAAnD,iBAEzBL,EAAWY,KAAI,SAAAC,GAAI,OACjB,wBAAIR,UAAU,YAAYS,IAAKD,EAAKnB,IAClC,0BAAMW,UAA2B,SAAhBQ,EAAKE,OAAmB,QAAU,SAA0B,SAAhBF,EAAKE,OAAoB,eAAO,gBAC7F,2BAAIF,EAAKG,QAAT,IAAmBH,EAAKG,QAAxB,IAAkCH,EAAKG,SACvC,0BAAMX,UAAU,UAAUQ,EAAKI,WAKvC,yBAAKZ,UAAU,UAEXZ,EAAOmB,KAAI,SAAAC,GAAI,OACb,kBAAC,IAAD,CAASK,MAAO,CAACpB,MAAMe,EAAKf,OAAQO,UAAU,QAAQS,IAAKD,EAAKnB,GAAIe,GAAII,EAAKhB,MAAM,0BAAMQ,UAAWQ,EAAKjB,OAAa,0BAAMS,UAAU,UAAUQ,EAAKlB,e,0CAQ7JM,KAAKkB,YACLlB,KAAKC,MAAMkB,sBACXnB,KAAKC,MAAMmB,cACX,IAAIC,IAAQrB,KAAKsB,KAAKC,UAAW,CAE/BC,UAAW,aACXC,MAAM,EACNC,MAAM,IACNC,SAAW,CACTC,MAAM,KAERC,WAAY,CACVC,GAAI,0B,kCAKL9B,KAAKC,MAAMC,YAAY6B,OAAS,GAGjC/B,KAAKC,MAAM+B,qB,GAhEEC,aAkGJC,uBA7BS,SAACxB,GACvB,MAAO,CACLyB,QAAQzB,EAAM0B,OAAOD,QACrBzC,MAAMgB,EAAM0B,OAAO1C,MACnBQ,YAAYQ,EAAM2B,KAAKnC,gBAIA,SAACoC,GAC1B,MAAO,CACLN,eADK,WAEH,IAAIO,EAASC,cACbF,EAASC,IAEXpB,oBALK,WAMHmB,EAAS,CACPG,KAAK,gBACLN,SAAQ,KAGZf,YAXK,WAYHkB,EAAS,CACPG,KAAK,cACL/C,MAAM,qBAMCwC,CAA4CpC","file":"static/js/14.0533f0ec.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { NavLink,Link } from 'react-router-dom'\r\nimport './style.scss'\r\nimport Swiper from 'swiper';\r\nimport {requestMessageList} from '../../../store/reducers/home'\r\n\r\nconst h_tabs = [\r\n  {id:1,title:'设计管理',icon:'iconfont icon-icon-',path:'/home', color:'#4A73FF'},\r\n  {id:2,title:'采购管理',icon:'iconfont icon-caigou-',path:'/home', color:'#F8BE39'},\r\n  {id:3,title:'报账管理',icon:'iconfont icon-gongzi-copy',path:'/home', color:'#F03958'},\r\n  {id:4,title:'工资管理',icon:'iconfont icon-money',path:'/home', color:'#30D288'},\r\n  {id:5,title:'通讯录',icon:'iconfont icon-icons-',path:'/home', color:'#F03958'},\r\n  {id:6,title:'供应商目录',icon:'iconfont icon-gongyingshangguanli',path:'/home', color:'#30D288'},\r\n  {id:7,title:'现场图库',icon:'iconfont icon-tongxunlu',path:'/home', color:'#4A73FF'},\r\n  {id:8,title:'发送通知',icon:'iconfont icon-xiaoxi',path:'/home', color:'#F8BE39'},\r\n]\r\n\r\nclass Home extends Component {\r\n  render() {\r\n    // console.log(this.props.messageList);\r\n    let newMessage = this.props.messageList.slice(0,4);\r\n    // console.log(newMessage)\r\n    return (\r\n      <div className=\"page\">\r\n      <div className=\"swiper-container\" ref=\"container\">\r\n        <div className=\"swiper-wrapper\">\r\n            <div className=\"swiper-slide\">\r\n              <img src=\"/img/1.jpeg\" alt=\"\"/>\r\n            </div>\r\n            <div className=\"swiper-slide\">\r\n              <img src=\"/img/2.jpg\" alt=\"\"/>\r\n            </div>\r\n            <div className=\"swiper-slide\">\r\n              <img src=\"/img/3.jpg\" alt=\"\"/>\r\n            </div>\r\n        </div>\r\n        <div className=\"swiper-pagination\"></div>\r\n      </div>\r\n      <div className=\"h_news\">\r\n      <p className=\"h_message\">最新消息<Link to={{pathname:'/message',state:3}} className=\"h_more\" >更多</Link></p>\r\n        {\r\n          newMessage.map(item=>(\r\n            <li className=\"h_newMess\" key={item.id}>\r\n              <span className={item.status === 'todo'? 'h_red' : 'h_org'}>{item.status === 'todo' ? '待办' : '通知'}</span>\r\n              <p>{item.message} {item.message} {item.message}</p>\r\n              <span className=\"h_time\">{item.date}</span>\r\n            </li>\r\n          ))\r\n        }\r\n      </div>\r\n      <div className=\"h_tabs\">\r\n        {\r\n          h_tabs.map(item=>(\r\n            <NavLink style={{color:item.color}} className=\"h_tab\" key={item.id} to={item.path}><span className={item.icon}></span><span className=\"h_text\">{item.title}</span></NavLink>\r\n          ))\r\n        }\r\n      </div>\r\n      </div>\r\n    )\r\n  }\r\n  componentDidMount(){\r\n    this.fetchList()\r\n    this.props.changeHasbackAction();\r\n    this.props.changeTitle();\r\n    new Swiper (this.refs.container, {\r\n      // Optional parameters\r\n      direction: 'horizontal',\r\n      loop: true,\r\n      speed:300,\r\n      autoplay : {\r\n        delay:2000\r\n      },\r\n      pagination: {\r\n        el: '.swiper-pagination',\r\n      },\r\n    })\r\n  }\r\n  fetchList(){\r\n    if(this.props.messageList.length > 0){\r\n      return\r\n    }else{\r\n      this.props.getMessageList();\r\n    }\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state)=>{\r\n  return {\r\n    hasBack:state.header.hasBack,\r\n    title:state.header.title,\r\n    messageList:state.home.messageList\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch)=>{\r\n  return {\r\n    getMessageList(){\r\n      let action = requestMessageList();\r\n      dispatch(action);\r\n    },\r\n    changeHasbackAction(){\r\n      dispatch({\r\n        type:'changeHasBack',\r\n        hasBack:false,\r\n      })\r\n    },\r\n    changeTitle(){\r\n      dispatch({\r\n        type:'changeTitle',\r\n        title:'首页'\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Home)\r\n"],"sourceRoot":""}